var matches;function reqHttp(a){var s=new XMLHttpRequest,e="",t="";s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var c=JSON.parse(s.responseText)[a];switch(a){case"characters":e="char";break;case"opponents":e="opp";break;case"ranks":e="rank";break;case"matches":return matches=c,void sortMatches()}for(var n in t+="<option value= '0'>All "+a.charAt(0).toUpperCase()+a.slice(1)+"</option>",c)c.hasOwnProperty(n)&&(t+="<option value= '"+c[n][e+"_id"]+"'>"+c[n][e+"_name"]+"</option>");switch(a){case"characters":document.getElementById("my_chars").innerHTML=t,document.getElementById("opp_chars").innerHTML=t;break;default:document.getElementById(a).innerHTML=t}}},s.open("GET","https://psynr0j4v5.execute-api.us-east-1.amazonaws.com/prod/"+a,!0),s.send(null)}function sortMatches(a=0,s=0,e=0,t=0,c=0,n=0,r=0){a=$("#season").val(),s=$("#type").val(),e=$("#my_chars").val(),t=$("#opponents").val(),c=$("#ranks").val(),n=$("#opp_chars").val(),r=$("#result").val();var o="<div class='row'><strong><div class='col-xs-1 ranbats'>Season</div><div class='col-xs-1 ranbats'>Type</div><div class='col-xs-2 ranbats'>My Char</div><div class='col-xs-3 ranbats'>Opp Name</div><div class='col-xs-2 ranbats'>Opp Rank</div><div class='col-xs-2 ranbats'>Opp Char</div><div class='col-xs-1 ranbats'>Result</div></strong></div>";for(var i in matches)if(!(matches[i].season!=a&&0!=a||matches[i].match_type!=s&&0!=s||matches[i]["My Character"].char_id!=e&&0!=e||matches[i].opponent.opp_id!=t&&0!=t||matches[i].opponent.rank.rank_id!=c&&0!=c||matches[i]["Opponent Character"].char_id!=n&&0!=n||matches[i].result!=r&&0!=r)){var p="",d="",l="";switch(matches[i].match_type){case 1:p="Ranked";break;case 2:p="Casual";break;case 3:p="Lounge"}switch(matches[i].result){case 1:d="Win";break;case 2:d="Loss"}switch(matches[i].opponent.rank.rank_id){case 19:l="Ult. Grand Master";break;default:l=matches[i].opponent.rank.rank_name}o+="<div id='"+matches[i].match_id+"' class='row'><div class='col-xs-1 ranbats'>"+matches[i].season+"</div><div class='col-xs-1 ranbats'>"+p+"</div><div class='col-xs-2 ranbats'>"+matches[i]["My Character"].char_name+"</div><div class='col-xs-3 ranbats'>"+matches[i].opponent.opp_name+"</div><div class='col-xs-2 ranbats'>"+l+"</div><div class='col-xs-2 ranbats'>"+matches[i]["Opponent Character"].char_name+"</div><div class='col-xs-1 ranbats'>"+d+"</div></div>"}document.getElementById("results").innerHTML=o}reqHttp("characters"),reqHttp("ranks"),reqHttp("opponents"),reqHttp("matches");