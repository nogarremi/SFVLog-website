var matches;function getChars(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=JSON.parse(a.responseText).characters,s='<option value="0">All Characters</option>';for(var t in e)e.hasOwnProperty(t)&&(s+="<option value= '"+e[t].char_id+"'>"+e[t].char_name+"</option>");document.getElementById("my_chars").innerHTML=s,document.getElementById("opp_chars").innerHTML=s}},a.open("GET","https://psynr0j4v5.execute-api.us-east-1.amazonaws.com/prod/characters/",!0),a.send(null)}function getOpponents(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=JSON.parse(a.responseText).opponents,s='<option value="0">All Opponents</option>';for(var t in e)e.hasOwnProperty(t)&&(s+="<option value= '"+e[t].opp_id+"'>"+e[t].opp_name+"</option>");document.getElementById("opponents").innerHTML=s}},a.open("GET","https://psynr0j4v5.execute-api.us-east-1.amazonaws.com/prod/opponents/",!0),a.send(null)}function getRanks(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=JSON.parse(a.responseText).ranks,s='<option value="0">All Ranks</option>';for(var t in e)e.hasOwnProperty(t)&&(s+="<option value= '"+e[t].rank_id+"'>"+e[t].rank_name+"</option>");document.getElementById("opp_ranks").innerHTML=s}},a.open("GET","https://psynr0j4v5.execute-api.us-east-1.amazonaws.com/prod/ranks/",!0),a.send(null)}function getMatches(){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&(matches=JSON.parse(a.responseText).matches,sortMatches())},a.open("GET","https://psynr0j4v5.execute-api.us-east-1.amazonaws.com/prod/matches/",!0),a.send(null)}function sortMatches(a=0,e=0,s=0,t=0,n=0,o=0,r=0){a=$("#season").val(),e=$("#type").val(),s=$("#my_chars").val(),t=$("#opponents").val(),n=$("#opp_ranks").val(),o=$("#opp_chars").val(),r=$("#result").val();var c="<div class='row'><strong><div class='col-xs-1 ranbats'>Season</div><div class='col-xs-1 ranbats'>Type</div><div class='col-xs-2 ranbats'>My Char</div><div class='col-xs-3 ranbats'>Opp Name</div><div class='col-xs-2 ranbats'>Opp Rank</div><div class='col-xs-2 ranbats'>Opp Char</div><div class='col-xs-1 ranbats'>Result</div></strong></div>";for(var p in matches)if(!(matches[p].season!=a&&0!=a||matches[p].match_type!=e&&0!=e||matches[p]["My Character"].char_id!=s&&0!=s||matches[p].opponent.opp_id!=t&&0!=t||matches[p].opponent.rank.rank_id!=n&&0!=n||matches[p]["Opponent Character"].char_id!=o&&0!=o||matches[p].result!=r&&0!=r)){var i="",d="",l="";switch(matches[p].match_type){case 1:i="Ranked";break;case 2:i="Casual";break;case 3:i="Lounge"}switch(matches[p].result){case 1:d="Win";break;case 2:d="Loss"}switch(matches[p].opponent.rank.rank_id){case 19:l="Ult. Grand Master";break;default:l=matches[p].opponent.rank.rank_name}c+="<div id='"+matches[p].match_id+"' class='row'><div class='col-xs-1 ranbats'>"+matches[p].season+"</div><div class='col-xs-1 ranbats'>"+i+"</div><div class='col-xs-2 ranbats'>"+matches[p]["My Character"].char_name+"</div><div class='col-xs-3 ranbats'>"+matches[p].opponent.opp_name+"</div><div class='col-xs-2 ranbats'>"+l+"</div><div class='col-xs-2 ranbats'>"+matches[p]["Opponent Character"].char_name+"</div><div class='col-xs-1 ranbats'>"+d+"</div></div>"}document.getElementById("results").innerHTML=c}getChars(),getRanks(),getOpponents(),getMatches();